<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>ev-profile: Elevation Profile with GeoJSON</title>
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0"/>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
<link rel="stylesheet" href="Leaflet.Elevation-0.0.2.css"/>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="http://handygeospatial.github.io/mapsites/js/leaflet-hash.js"></script>
<script src="http://handygeospatial.github.io/mapsites/js/TileLayer.GeoJSON.js"></script>
<script src="http://handygeospatial.github.io/mapsites/js/corslite.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="Leaflet.Elevation-0.0.2.min.js"></script>
<style>
body {padding: 0; margin: 0}
html, body, #mapdiv {height: 100%; width: 100%;}
.leaflet-container {background: #fff;}
</style>
</head>
<body>
<div id="mapdiv">
<script>
var std = L.tileLayer(
  'http://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
    attribution: "地理院タイル（標準地図）"
  });
var osm = L.tileLayer(
  'http://tile.openstreetmap.jp/{z}/{x}/{y}.png', {
    attribution: 'map data (c) OpenStreetMap contributors'
  });

var map = L.map('mapdiv', {
  center: [32.9788, 130.0668], zoom: 15,
  layers: [std]});

var hash = L.hash(map);
L.control.layers({
  '地理院タイル（標準地図）': std,
  "<a href='http://qiita.com/nyampire/items/fbe359a2c9ccf0116787'>OSM日本</a>'": osm
}).addTo(map);

var el = L.control.elevation({
  position: 'bottomleft',
  theme: 'purple-theme',
  interpolation: 'basis'
});
el.addTo(map);

L.geoJson(
{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[130.05421010749583,32.975757151150205,300],[130.05428563223805,32.976052820281986,293.5],[130.05383248378487,32.97615841616057,291.3],[130.0535303848161,32.97615841616057,289.5],[130.05307723636292,32.97617953532113,284.8],[130.05274996248008,32.97626401191288,288.4],[130.05224646419876,32.97626401191288,290.2],[130.05196954014406,32.97626401191288,290.1],[130.05166744117528,32.97645408394885,294],[130.05234716385502,32.97662303652627,294.4],[130.05305206144885,32.976855345792416,300.3],[130.05388283361302,32.9770454165556,303.5],[130.05466325594904,32.9770454165556,306],[130.05551920302725,32.977024297602114,308.2],[130.0562744504492,32.9770454165556,308],[130.05682829855863,32.97715101124726,309.8],[130.05697934804303,32.97746779456462,312.9],[130.05710522261333,32.977615626390474,315],[130.05803669443375,32.97748891341203,322.8],[130.05891781642603,32.97736220025177,326.9],[130.0601010373871,32.97723548690968,332.8],[130.06062971058245,32.97723548690968,333.6],[130.06156118240287,32.97755226992398,355.5],[130.06236677965296,32.9778268142838,383.8],[130.0629206277624,32.97812247648592,396.2],[130.0633863636726,32.978650442241694,400.9],[130.06396538669608,32.978650442241694,410.8],[130.06434301040704,32.97875603501404,406.5],[130.06472063411803,32.97903057563115,407.9],[130.0648968585165,32.97909393103696,410.9],[130.0653248320556,32.97903057563115,414.7],[130.06587868016504,32.97926287856354,425.2],[130.06630665370415,32.97953741760476,436.3],[130.06660875267292,32.979917547175695,457.7],[130.06678497707136,32.98017096598046,463.6],[130.06688567672762,32.98057221093384,465.6],[130.06716260078235,32.980867863943196,472.7],[130.06774162380586,32.98118463392607,487.8],[130.06832064682936,32.981522520655105,507.8],[130.06832064682936,32.981522520655105,507.8],[130.06905071933724,32.98192375946634,534.6],[130.06947869287634,32.98230387876337,547.8],[130.06960456744667,32.98281070194694,573.3],[130.06970526710293,32.983211934903835,592.4],[130.06978079184515,32.983401991983804,604.6],[130.07028429012644,32.98388769155151,618.8],[130.0707374385796,32.984288919613704,643.1],[130.07144233617342,32.98477461430183,683.3],[130.07184513479845,32.985154721324214,714.4],[130.07217240868133,32.98572487878907,753.1],[130.07212205885318,32.98614721527773,786.7],[130.0719710093688,32.986590666416156,827.4],[130.07154303582968,32.98711858153348,869.8],[130.07227310833758,32.98745644555164,877.5],[130.0731290554158,32.98764649349355,894.5],[130.07406052723618,32.98775207550669,944.5],[130.07509269871287,32.9877098427166,985.8],[130.07589829596293,32.987562027792116,1041.9],[130.07640179424428,32.98751979491108,1071.7],[130.0768045928693,32.9870974649894,1030.2],[130.07733326606467,32.98650619970441,979.7],[130.077459140635,32.98587269678994,932],[130.077459140635,32.98532365725326,913.6],[130.077459140635,32.9849224338939,901.8],[130.07766053994752,32.98452120871098,896.2],[130.07834026262725,32.98443674001905,877.2],[130.07881858599453,32.98418333345835,852.3],[130.0795486585024,32.984014395347096,822.2],[130.0798255825571,32.98373987022682,803.8],[130.08032908083842,32.9833597571125,782],[130.0806311798072,32.983127464959175,777.3],[130.0810088035182,32.983127464959175,775.1],[130.08030390592435,32.98245170249247,736.4],[130.0799766320415,32.981902641679625,710.4],[130.0795486585024,32.98122686983791,678.2],[130.079397609018,32.980656683323254,665.8],[130.07932208427582,32.98027655693445,656.2],[130.07914585987737,32.9796007726469,626.9],[130.07904516022109,32.97926287856354,620.2],[130.0787430612523,32.97877715355335,599.4],[130.07851648702572,32.978397019072894,586.1],[130.07851648702572,32.97810135779004,590.8],[130.07869271142417,32.977805695517205,582.6],[130.07859201176794,32.97748891341204,573.1],[130.07823956297102,32.97740443799206,558.9],[130.07778641451785,32.97740443799206,556.9],[130.07738361589278,32.97738331912444,537.6],[130.07713186675215,32.977172130170445,533.6],[130.0768045928693,32.977172130170445,529.2],[130.07642696915832,32.97679198878044,529.9],[130.07632626950206,32.976517441203264,532.2],[130.07642696915832,32.97615841616057,519.8],[130.07675424304117,32.975883866613614,512.2],[130.07698081726775,32.975630435504975,504.4],[130.07682976778335,32.97546148102849,515.5],[130.07640179424428,32.97550371967792,513.9],[130.07562137190823,32.97550371967792,492.8],[130.07519339836912,32.97550371967792,492],[130.0745954941601,32.97539812301647,480.5],[130.07426822027725,32.975039093423106,472.7],[130.07419269553506,32.97470118188423,470],[130.07404164605066,32.97442662780684,467.2],[130.07366402233967,32.97442662780684,463.1],[130.07323604880057,32.97453222562993,456.5],[130.07273255051928,32.97448998651585,453.1],[130.07230457698014,32.97453222562993,449.7],[130.07192695326916,32.97470118188423,445.7],[130.07142345498787,32.97489125728394,443.4],[130.07089478179253,32.97506021285136,436.1],[130.07056750790966,32.97525028747833,430.5],[130.07021505911277,32.97508133227456,425.3],[130.06993813505804,32.97491237674755,417.9],[130.0696108611752,32.97508133227456,415.8],[130.0692332374642,32.97529252622876,412.7],[130.06893113849546,32.97541924235887,406.7],[130.0685786896985,32.97544036169621,398.5],[130.06832694055788,32.9756515547918,399.7],[130.06789896701875,32.975968343488205,388.3],[130.0673702938234,32.976052820281986,389.1],[130.06674092097177,32.97611617782428,378.1],[130.06623742269045,32.97613729699494,372.1],[130.06573392440916,32.97620065447664,368.7],[130.06500385190128,32.97630625017846,358.5],[130.0644751787059,32.97609505864857,353],[130.06394650551056,32.97609505864857,339.6],[130.06329195774484,32.97598946269422,346.2],[130.0628388092917,32.975947224277135,343.1],[130.0624611855807,32.976052820281986,340.8],[130.0619325123853,32.97611617782428,338.7],[130.06120243987743,32.97630625017846,329.3],[130.06059824193989,32.976411845754,332.2],[130.06009474365857,32.976517441203264,327.4],[130.05957865792024,32.976517441203264,326.8],[130.0588989352405,32.97666527462011,314.6],[130.05826956238886,32.97683422679348,316.6],[130.05811851290446,32.976348488423824,321.8],[130.05809333799039,32.97603170109112,313],[130.05796746342008,32.97569379335032,321],[130.05774088919347,32.97569379335032,319.6],[130.0570108166856,32.975714912622,317.5],[130.05648214349023,32.975883866613614,311.2],[130.05615486960738,32.975883866613614,309.1],[130.05580242081047,32.976052820281986,305.4],[130.05544997201355,32.97590498583983,307],[130.05504717338852,32.97582050890463,305.6],[130.0546947245916,32.97598946269422,297.7],[130.05439262562282,32.97601058189518,294],[130.05434227579468,32.9757993896582,299],[130.05434227579468,32.9757993896582,299],[130.05434227579468,32.9757993896582,299],[130.05429192596657,32.97582050890463,299],[130.05429192596657,32.97582050890463,299],[130.05429192596657,32.97582050890463,299]]}}]}, {
  onEachFeature: el.addData.bind(el)
}).addTo(map);
</script>
</body>
</html>
